{% extends 'layouts/base.twig' %}

{% block css %}
    <link href="public/css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="public/css/plugins/datapicker/datepicker3.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-9">
        <h2>Clientes</h2>
        <ol class="breadcrumb">
            <li>
                <a href="">Painel de controle</a>
            </li>
            <li>
                <a href="{{ path_for('customers') }}">Clientes</a>
            </li>
            <li class="active">
                <strong>{{ breadcrumb }}</strong>
            </li>
        </ol>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">

    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>{{ breadcrumb }}  cliente</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">

                    <form id="form-add-customer" action="{{ action }}" method="post" autocomplete="off">

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group {{ errors.customer ? 'has-error': '' }}">
                                    <label>Cliente nome<span class="text-danger">*</span></label>
                                    <input type="text" name="customer" value="{{ old.customer ?? customer.customer ?? '' }}" class="form-control">
                                    {% if errors.customer %}
                                        {% for error in errors.customer %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-4 form-group {{ errors.date_birth ? 'has-error' : '' }}">
                                <label>Data Nascimento</label>
                                <div class="input-group date">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input type="text" name="date_birth" class="form-control"
                                           value="{{ old.date_birth ?? customer.date_birth ? customer.date_birth | date("m/d/Y") : '' }}">
                                </div>
                                {% if errors.date_birth %}
                                    {% for error in errors.date_birth %}
                                        <span class="help-block">{{ error }}</span>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 form-group">
                                <label>Sexo</label><br>
                                <div class="radio-inline i-checks">
                                    <label> <input type="radio" value="male" name="sex" {{ customer.sex == 'male' ? 'checked' : '' }}> <i></i> Masculino </label>
                                </div>
                                <div class=" radio-inline i-checks">
                                    <label> <input type="radio" value="female" name="sex" {{ customer.sex == 'female' ? 'checked' : '' }}> <i></i> Feminino </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group {{ errors.email ? 'has-error' : '' }}">
                                    <label>Email</label>
                                    <input type="text" name="email" value="{{ old.email ?? customer.email ?? '' }}" class="form-control">
                                    {% if errors.email %}
                                        {% for error in errors.email %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group {{ errors.cellphone ? 'has-error' : '' }}">
                                    <label>Celular</label>
                                    <input type="text" name="cellphone" value="{{ old.cellphone ?? customer.cellphone ?? '' }}" class="form-control">
                                    {% if errors.cellphone %}
                                        {% for error in errors.cellphone %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group {{ errors.phone ? 'has-error' : '' }}">
                                    <label>Telefone</label>
                                    <input type="text" name="phone" value="{{ old.phone ?? customer.phone ?? '' }}" class="form-control">
                                    {% if errors.phone %}
                                        {% for error in errors.phone %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-2">
                                <div class="form-group {{ errors.zipcode ? 'has-error': '' }}">
                                    <label>CEP</label>
                                    <input type="text" name="zipcode" value="{{ old.zipcode ?? customer.zipcode ?? '' }}" class="form-control">
                                    {% if errors.zipcode %}
                                        {% for error in errors.zipcode %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group {{ errors.address ? 'has-error': '' }}">
                                    <label>Rua</label>
                                    <input type="text" name="address" value="{{ old.address ?? customer.address ?? '' }}" class="form-control">
                                    {% if errors.address %}
                                        {% for error in errors.address %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group {{ errors.number ? 'has-error': '' }}">
                                    <label>Numero</label>
                                    <input type="number" name="number" value="{{ old.number ?? customer.number ?? '' }}" class="form-control">
                                    {% if errors.number %}
                                        {% for error in errors.number %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group {{ errors.neighborhood ? 'has-error': '' }}">
                                    <label>Bairro</label>
                                    <input type="text" name="neighborhood" value="{{ old.neighborhood ?? customer.neighborhood ?? '' }}" class="form-control">
                                    {% if errors.neighborhood %}
                                        {% for error in errors.neighborhood %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group {{ errors.complement ? 'has-error': '' }}">
                                    <label>Complemento</label>
                                    <input type="text" name="complement" value="{{ old.complement ?? customer.complement ?? '' }}" class="form-control">
                                    {% if errors.complement %}
                                        {% for error in errors.complement %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group {{ errors.city ? 'has-error': '' }}">
                                    <label>Cidade</label>
                                    <input type="text" name="city" value="{{ old.city ?? customer.city ?? '' }}" class="form-control">
                                    {% if errors.city %}
                                        {% for error in errors.city %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group {{ errors.state ? 'has-error': '' }}">
                                    <label>Estado</label>
                                    <input type="text" name="state" value="{{ old.state ?? customer.state ?? '' }}" class="form-control">
                                    {% if errors.state %}
                                        {% for error in errors.state %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="hr-line-dashed"></div>

                        <div class="row">
                            <div class="form-group col-sm-4">
                                <a href="{{ path_for('customers') }}" class="btn btn-white btn-sm" type="button">Cancelar</a>
                                <button class="btn btn-primary btn-sm" type="submit">Salvar</button>
                            </div>
                        </div>
                        <input type="hidden" name="id" value="{{ customer.id }}">
                        {{ csrf.field | raw }}
                    </form>

                </div>
            </div>

        </div>
    </div>


</div>
{% endblock %}

{% block js %}

    <script src="public/js/plugins/iCheck/icheck.min.js"></script>
    <script src="public/js/plugins/datapicker/bootstrap-datepicker.js"></script>
    <script>
        $(document).ready(function () {
            $('.i-checks').iCheck({
                checkboxClass: 'icheckbox_square-green',
                radioClass: 'iradio_square-green',
            });
            $('.date').datepicker({
                format : 'dd/mm/yyyy',
                autoclose: true
            });
        });
    </script>

{% endblock %}